# Modix 供应商配置说明和操作指南

## 目录

1. [快速开始](#快速开始)
2. [Claude 官方 API 配置](#claude-官方-api-配置)
3. [DeepSeek V3.2 配置](#deepseek-v32-配置)
4. [Alibaba Qwen3 系列配置](#alibaba-qwen3-系列配置)
5. [ByteDance Doubao Seed Code 配置](#bytedance-doubao-seed-code-配置)
6. [Moonshot AI Kimi-K2 配置](#moonshot-ai-kimi-k2-配置)
7. [Kimi AI Technology KAT-Coder 配置](#kimi-ai-technology-kat-coder-配置)
8. [MiniMax M2 配置](#minimax-m2-配置)
9. [常见问题解答](#常见问题解答)
10. [故障排除](#故障排除)
11. [安全最佳实践](#安全最佳实践)

---

## 快速开始

### 安装 Modix

```bash
# 下载并安装 Modix
# [安装说明待补充]

# 验证安装
modix --version
```

### 基本命令

****

```bash
# 查看当前状态
modix status

# 列出所有可用模型
modix list

# 切换到指定模型
modix switch <model_name>
```

### 支持的模型列表

| 模型名称      | 官方网址                                                  | Console 链接                                          | Github 链接                                              | 配置网址                                             |
| ------------- | --------------------------------------------------------- | ----------------------------------------------------- | -------------------------------------------------------- | ---------------------------------------------------- |
| `Anthropic`   | [Claude Code](https://www.claude.com/product/claude-code) | [Claude Console](https://console.anthropic.com/)      | [Claude Code](https://github.com/anthropics/claude-code) | [Claude Code](https://code.claude.com/docs)          |
| `DeepSeek`    | [DeepSeek](https://www.deepseek.com/)                     | [DeepSeek Platform](https://platform.deepseek.com/)   | [DeepSeek GitHub](https://github.com/deepseek-ai)        | [DeepSeek 配置](#deepseek-v32-配置)                  |
| `qwen-plus`   | [Alibaba Bailian](https://bailian.console.aliyun.com/)    | [阿里云百炼平台](https://bailian.console.aliyun.com/) | [Qwen GitHub](https://github.com/QwenLM)                 | [Qwen3 配置](#alibaba-qwen3-系列配置)                |
| `qwen-max`    | [Alibaba Bailian](https://bailian.console.aliyun.com/)    | [阿里云百炼平台](https://bailian.console.aliyun.com/) | [Qwen GitHub](https://github.com/QwenLM)                 | [Qwen3 配置](#alibaba-qwen3-系列配置)                |
| `doubao-code` | [Doubao Developer](https://www.doubao.com/)               | [Doubao 开发者平台](https://www.doubao.com/)          | [ByteDance AI](https://github.com/bytedance)             | [Doubao 配置](#bytedance-doubao-seed-code-配置)      |
| `kimi-k2`     | [Moonshot AI Platform](https://platform.moonshot.cn/)     | [Moonshot AI 平台](https://platform.moonshot.cn/)     | [Moonshot AI](https://github.com/moonshot-ai)            | [Moonshot 配置](#moonshot-ai-kimi-k2-配置)           |
| `kat-coder`   | [KAT-Coder Platform](https://www.kimi.ai/)                | [KAT-Coder 开发者平台](https://www.kimi.ai/)          | [Kimi AI](https://github.com/kimiteam)                   | [KAT-Coder 配置](#kimi-ai-technology-kat-coder-配置) |
| `minimax-m2`  | [MiniMax Developer](https://www.minimaxi.com/)            | [MiniMax 开发者平台](https://www.minimaxi.com/)       | [MiniMax GitHub](https://github.com/MiniMax-2023)        | [MiniMax 配置](#minimax-m2-配置)                     |

---

## Claude 官方 API 配置

### 概述

Claude 官方 API 是 Anthropic 提供的标准 API 服务。

### 配置步骤

1. **获取 API 密钥**
   - 访问 [Claude API 官网](https://console.anthropic.com/)
   - 注册/登录账户
   - 在控制台中创建新的 API 密钥

2. **配置 Modix**

   ```bash
   modix switch claude-official
   ```

3. **验证配置**

   ```bash
   modix status
   ```

### 配置文件示例

```json
{
  "apiEndpoint": "https://api.anthropic.com",
  "apiKey": "sk-ant-xxx",
  "defaultModel": "claude-3-sonnet-20240229"
}
```

### 常见问题

- **API 密钥无效**: 检查密钥格式和权限
- **网络连接问题**: 确认防火墙设置
- **配额超限**: 检查使用量和订阅计划

---

## DeepSeek V3.2 配置

### 概述

DeepSeek V3.2 是深度求索公司开发的高性能大语言模型。

### 配置步骤

1. **注册账户**
   - 访问 [DeepSeek API 平台](https://platform.deepseek.com/)
   - 完成注册和实名认证

2. **获取 API 密钥**
   - 登录控制台
   - 创建新的 API 密钥
   - 记录 API Endpoint 和密钥

3. **配置 Modix**

   ```bash
   modix switch deepseek-v3
   ```

### API Endpoint

- **基础 URL**: `https://api.deepseek.com`
- **模型端点**: `/v1/chat/completions`

### 认证方式

- **Header**: `Authorization: Bearer <API_KEY>`

### 配置文件示例

```json
{
  "apiEndpoint": "https://api.deepseek.com",
  "apiKey": "sk-xxx",
  "defaultModel": "deepseek-chat"
}
```

### 使用限制

- 免费额度限制
- 请求频率限制
- 模型上下文长度限制

---

## Alibaba Qwen3 系列配置

### 概述

阿里云 Qwen3 系列包括多个不同能力的模型。

### 支持的模型

- **qwen-plus**: 平衡性能和成本
- **qwen-max**: 最强推理能力

### 配置步骤

1. **阿里云账户设置**
   - 注册阿里云账户
   - 完成实名认证
   - 开通百炼平台服务

2. **获取 API 密钥**
   - 访问 [阿里云百炼平台](https://bailian.console.aliyun.com/)
   - 创建 API Key
   - 记录 AccessKey ID 和 Secret

3. **配置 Modix**

   ```bash
   # 切换到 qwen-plus
   modix switch qwen-plus

   # 切换到 qwen-max
   modix switch qwen-max
   ```

### API Endpoint

- **基础 URL**: `https://dashscope.aliyuncs.com/api/v1`
- **模型端点**: `/services/aigc/text-generation/generation`

### 认证方式

- **Header**: `Authorization: Bearer <API_KEY>`

### 配置文件示例

```json
{
  "apiEndpoint": "https://dashscope.aliyuncs.com/api/v1",
  "apiKey": "sk-xxx",
  "defaultModel": "qwen-plus-v1"
}
```

### 费用说明

- 按 token 数量计费
- 不同模型价格不同
- 免费额度政策

---

## ByteDance Doubao Seed Code 配置

### 概述

字节跳动 Doubao Seed Code 是专为编程任务优化的模型。

### 配置步骤

1. **获取访问权限**
   - 访问 [Doubao 开发者平台](https://www.doubao.com/)
   - 申请 API 访问权限
   - 等待审核通过

2. **配置 API 密钥**
   - 在开发者控制台创建应用
   - 获取 API Key 和 Secret
   - 配置回调地址（如需要）

3. **配置 Modix**

   ```bash
   modix switch doubao-code
   ```

### API Endpoint

- **基础 URL**: `https://seed-code.bytedance.com/api/v1`
- **模型端点**: `/chat/completions`

### 认证方式

- **Header**: `Authorization: Bearer <API_KEY>`
- **Additional Headers**: AppID, Timestamp, Signature

### 配置文件示例

```json
{
  "apiEndpoint": "https://seed-code.bytedance.com/api/v1",
  "apiKey": "xxx",
  "apiSecret": "xxx",
  "appId": "xxx",
  "defaultModel": "doubao-seed-code"
}
```

### 特殊要求

- 需要企业认证
- API 调用频率限制
- 编程专用优化

---

## Moonshot AI Kimi-K2 配置

### 概述

Moonshot AI Kimi-K2 是具有超长上下文处理能力的模型。

### 配置步骤

1. **注册 Moonshot AI**
   - 访问 [Moonshot AI 平台](https://platform.moonshot.cn/)
   - 完成账户注册和验证

2. **获取 API 密钥**
   - 登录开发者控制台
   - 创建新的 API 密钥
   - 记录 API Endpoint

3. **配置 Modix**

   ```bash
   modix switch kimi-k2
   ```

### API Endpoint

- **基础 URL**: `https://api.moonshot.cn`
- **模型端点**: `/v1/chat/completions`

### 认证方式

- **Header**: `Authorization: Bearer <API_KEY>`

### 配置文件示例

```json
{
  "apiEndpoint": "https://api.moonshot.cn",
  "apiKey": "sk-xxx",
  "defaultModel": "moonshot-v1"
}
```

### 特殊功能

- 超长上下文支持（最高 128K tokens）
- 文件上传和分析
- 多模态能力

---

## Kimi AI Technology KAT-Coder 配置

### 概述

KAT-Coder 是 Kimi AI Technology 推出的编程专用模型。

### 配置步骤

1. **申请访问权限**
   - 访问 [KAT-Coder 开发者平台](https://www.kimi.ai/)
   - 提交开发者申请
   - 等待审核结果

2. **配置开发环境**
   - 获取 API 密钥
   - 配置开发工具
   - 测试连接

3. **配置 Modix**

   ```bash
   modix switch kat-coder
   ```

### API Endpoint

- **基础 URL**: `https://api.kimi.ai/v1`
- **模型端点**: `/chat/completions`

### 认证方式

- **Header**: `Authorization: Bearer <API_KEY>`

### 配置文件示例

```json
{
  "apiEndpoint": "https://api.kimi.ai/v1",
  "apiKey": "sk-xxx",
  "defaultModel": "kat-coder-v1"
}
```

### 编程特性

- 代码补全
- 错误检测
- 代码解释
- 多语言支持

---

## MiniMax M2 配置

### 概述

MiniMax M2 是具有强大推理能力的多模态模型。

### 配置步骤

1. **注册 MiniMax**
   - 访问 [MiniMax 开发者平台](https://www.minimaxi.com/)
   - 完成企业注册
   - 申请 API 访问权限

2. **获取 API 凭据**
   - 在控制台创建项目
   - 获取 Group ID 和 API Key
   - 配置项目权限

3. **配置 Modix**

   ```bash
   modix switch minimax-m2
   ```

### API Endpoint

- **基础 URL**: `https://api.minimaxi.com/v1`
- **模型端点**: `/text/chatcompletion`

### 认证方式

- **Header**: `Authorization: Bearer <API_KEY>`
- **Additional Headers**: Group-ID, User-ID

### 配置文件示例

```json
{
  "apiEndpoint": "https://api.minimaxi.com/v1",
  "apiKey": "xxx",
  "groupId": "xxx",
  "defaultModel": "abab6-chat"
}
```

### 多模态能力

- 文本理解
- 图像识别
- 语音处理
- 跨模态推理

---

## 常见问题解答

### 通用问题

**Q: 如何检查当前配置是否正确？**
A: 使用 `modix status` 命令查看当前配置状态。

**Q: 切换模型后需要重新启动应用吗？**
A: 不需要，Modix 会自动更新配置文件。

**Q: API 密钥安全吗？**
A: Modix 会将密钥存储在本地配置文件中，建议设置适当的文件权限。

### 模型特定问题

**Q: Claude API 请求被拒绝怎么办？**
A: 检查 API 密钥是否有效，账户是否有足够配额。

**Q: DeepSeek API 连接超时？**
A: 可能是网络问题，尝试检查代理设置或网络连接。

**Q: Qwen 模型返回错误响应？**
A: 检查阿里云账户状态和 API 调用配额。

---

## 故障排除

### 连接问题

1. **检查网络连接**

   ```bash
   ping api.example.com
   ```

2. **验证 API 密钥**

   ```bash
   modix test-connection
   ```

3. **查看详细错误**

   ```bash
   modix --verbose status
   ```

### 配置问题

1. **重置配置**

   ```bash
   modix reset-config
   ```

2. **手动编辑配置文件**
   - 位置: `~/.claude/settings.json`
   - 备份原文件
   - 按照示例格式修改

3. **权限问题**

   ```bash
   chmod 600 ~/.claude/settings.json
   ```

### 性能问题

1. **API 响应慢**
   - 检查网络延迟
   - 确认模型负载情况
   - 考虑切换到其他模型

2. **频繁超时**
   - 调整超时设置
   - 检查并发请求限制
   - 联系供应商技术支持

---

## 安全最佳实践

### API 密钥管理

1. **定期轮换密钥**
   - 建议每 90 天更换一次
   - 在控制台中禁用旧密钥

2. **最小权限原则**
   - 只授予必要的 API 权限
   - 避免使用管理员密钥

3. **密钥存储安全**
   - 不要在代码中硬编码密钥
   - 使用环境变量或安全存储
   - 设置适当的文件权限

### 网络安全

1. **使用 HTTPS**
   - 确保所有 API 调用都使用加密连接
   - 验证 SSL 证书

2. **防火墙配置**
   - 允许必要的出站连接
   - 限制不必要的网络访问

3. **代理设置**
   - 在企业环境中正确配置代理
   - 确保代理不会泄露敏感信息

### 监控和审计

1. **API 使用监控**
   - 定期检查使用量
   - 设置使用量告警
   - 监控异常访问模式

2. **日志管理**
   - 保留适当的访问日志
   - 定期审查日志文件
   - 删除敏感信息

---

## 附录

### 配置文件模板

```json
{
  "currentModel": "claude-official",
  "models": {
    "claude-official": {
      "apiEndpoint": "https://api.anthropic.com",
      "apiKey": "",
      "defaultModel": "claude-3-sonnet-20240229"
    },
    "deepseek-v3": {
      "apiEndpoint": "https://api.deepseek.com",
      "apiKey": "",
      "defaultModel": "deepseek-chat"
    }
  }
}
```

### 环境变量配置

```bash
export CLAUDE_API_KEY="sk-ant-xxx"
export DEEPSEEK_API_KEY="sk-xxx"
export QWEN_API_KEY="sk-xxx"
```

### 联系支持

- 项目 GitHub: [https://github.com/zhubowen/modix](https://github.com/zhubowen/modix)
- 问题反馈: GitHub Issues
- 文档更新: 欢迎 Pull Request

---

*最后更新: 2025年11月21日*
